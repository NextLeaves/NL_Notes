title: 三角学、向量、矩阵和四元数
date: 2017-12-20 12:12:00
tag: math

---

* 数学表示法
* 3D坐标系
* 三角学
* 向量
* 矩阵和线性代数
* 逆矩阵和方程组求解
* 基本几何实体
* 参数化方程
* 四元数简介

<!--more-->

# 三角学、向量、矩阵和四元数 #

## 数学表示法 ##

* 介绍了常用的数学中的公式表示法，符号介绍

## 坐标系 ##

* **2D坐标系**（笛卡尔坐标系（Cartesian Coordinate））
	* y轴(竖轴(ordinate))
	* x轴(横轴(abscissa))
	* 四个象限(Quadrant)，QⅠ、QⅡ、QⅢ、QⅣ
* **【经验】：**
	1. 在第一象限进行数据图形的处理，进行运算的优化；然后把相同的解决方案反射到其他象限的过程
* **2D极坐标**(polar coordinate)：应用于**游戏wolfensteiu、光线投射技术**
	* 格式：方向(heading)+距离(distance)
	* **极点**的概念
* **极坐标**与**笛卡尔坐标**的相互转换
	* 适用于**弹道、瞄准、导航**
	* 注意x=0时，heading=90度
* **3D坐标系**
	* **柱面坐标系**和**球面坐标系**：用于纹理映射、其他特殊效果
	* 三个平面：x-y面，x-z面，y-z面（**半空间**的概念）
		* 分为八个卦限(octants)
	* 左手坐标系(LHS)、右手坐标系(RHS)：由Z的方向决定(left-hand slide)
	* **柱面坐标系**：(cylindrical coordinate system)
		* 适用于：第一人称中的相机处理、环境映射
		* 极坐标:p(r,θ,z)：
			* r：2D极坐标中的长度
			* θ：2D极坐标中的偏转角度
			* z：相对于x-y面的偏移值
	* **球面坐标系**：(sphere coordinate system)
		* 格式：p(ρ,φ,θ)
			* ρ：实际的长度
			* φ：相对于x-y面的偏移角度
			* θ：相对于z轴的偏移角度
* **3D球面坐标系**和**3D笛卡尔坐标系**的相互转换
	* 使用三角函数算···

## 三角学 ##

* 概念：
	* 底角(base angle)
	* 邻边
	* 对边
	* 斜边
* **三角形**和**相似三角形**的概念，在图形编辑和游戏设计中有重要应用

### 直角三角形 ###

* PI和π的概念：PI是math.h库中的一个常量；π是3.1415926···
* 2π=360°---度数(degrees)、弧度(radian)
	* 相互的转化:
		* 乘以 180/π	：弧度-》度数
		* 乘以 π/180	：度数-》弧度

### 反三角函数 ###

* θ=sin-1(x) x∈[-1,1] θ∈[0,2π]
	* 其他的同形式
* 计算机中无法表示**无穷大**的数字，常用的概念是足够大；比如100*100的网格中进行逻辑处理，那么当值大于10000的时候，我们成为足够大，也就是无穷大的效果
* **反三角函数**的计算是相当的代价大，是正三角函数的10倍以上，所以一般情况下的游戏优化，都不会直接计算反函数，也是取而代之的等效的方式去处理；记住游戏效率才是真正的优化目标
	* 可以通过**查找表**和**插值**来进行优化

### (IMPORTANT)三角恒等式 ###

* 倒数函数：
	* 正割:csc(θ)=1/sin(θ)
	* 余割:sec(θ)=1/cos(θ)
	* 余切:cot(θ)=1/tan(θ)
* 勾股定理：
	* sin(θ)平方 + cos(θ)平方 = 1
* 转换恒等式：
	* sin(θ) = cos(θ-PI/2)
* 反射恒等式：
	* sin(-θ) = -sin(θ)
	* cos(-θ) = cos(θ)
* 角度相加恒等式：
	* sin(θ1+θ2)=sin(θ1)cos(θ2)+cos(θ1)sin(θ2)
	* cos(θ1+θ2)=cos(θ1)cos(θ2)-sin(θ1)sin(θ2)
* **经验：**
	* 在必要的时候，根据三角学方面的转换方式，使计算成本降低，可以大大提高游戏的运行效率
	* 计算矩阵乘法时，一般不是按照正常的矩阵算法，而是利用三角恒等式进行简化矩阵算法，达到提高游戏运行的效率

## 向量（3D算法的基础） ##

* 有大小(magnitude)、有方向(normalize)
* 用途：可以表示**加速度**、**速度**等
* 向量总是被定义为相对于原点的射线；可以进行移动计算
* 向量的优点：
	* 可执行操作
	* 有序数集
* N维向量用于代表变量集而不是几何空间，超出三维后便是超空间；正常的空间只有三维

### 向量的长度(magnitude) ###

* 又名：**范数(norm)**
* sqrt(x平方+y平方+z平方)，利用勾股定理

### 归一化(normalize) ###

* 使其长度为1，同时方向不改变
* 单位向量有不错的性能
* 单位向量=向量本身/向量的长度

### 向量和标量的乘法 ###

* 速度的增加和衰减，仅仅改变向量的长度

### 向量加、减法 ###

* 略

### 向量点积 ###

* 用法：
	* Project of vector into other target vector.
	* 计算向量的**夹角**
* 判断点积的值：
	* 点积值 等于 0 => 角度等于90°
	* 点积值 大于 0 => 角度小于90°
	* 点积值 小于 0 => 角度大于90°
* 注意点：
	* 计算投影的时候，投影的**目标向量**需要为**单位向量**
	* 过程：
		* 先计算长度
		* 然后乘以方向上的**单位向量**
* 乘法定律：
	* 结合律
	* 分配律
	* 交换律

### 叉乘 ###

* 仅当三维时候相乘才有意义，求两条向量的法线向量
* 用法：
	* 光照计算
	* 定义平面
	* 多边形的朝向
	* 碰撞检测
* 计算值：(yz-zy)+(zx-xz)+(xy-yx)
* u * v * sin(0)
* 乘法定律：
	* 反交换律：u * v=-(u * v)

### 零向量 ###

* 虽然不常用的，但是有这个的存在
* 一般用于初始化向量
* 等效于一个点

### 位置和位移向量 ###

* 跟踪几何实体

### 用线性组合方式来表示向量 ###

* i j k 代表三维坐标系的三个轴的单位向量
* 然后乘以**向量所具有的的每个方向的长度**
* 即表示 **线性组合** 的写法来表示向量
* u = ux * i + uy * j + uz * k;